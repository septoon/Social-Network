(this["webpackJsonpsocial-network"]=this["webpackJsonpsocial-network"]||[]).push([[3],{294:function(t,e,s){"use strict";e.a=s.p+"static/media/user.d59f6bd9.jpg"},297:function(t,e,s){"use strict";s.d(e,"a",(function(){return r}));var a=s(95);function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var s=[],a=!0,r=!1,i=void 0;try{for(var o,n=t[Symbol.iterator]();!(a=(o=n.next()).done)&&(s.push(o.value),!e||s.length!==e);a=!0);}catch(c){r=!0,i=c}finally{try{a||null==n.return||n.return()}finally{if(r)throw i}}return s}}(t,e)||Object(a.a)(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},298:function(t,e,s){t.exports={profile_wrapper:"Profile_profile_wrapper__22JUB",top:"Profile_top__2Lqfm",bottom:"Profile_bottom__UTUre"}},299:function(t,e,s){t.exports={avatarBlock:"Avatar_avatarBlock__2xv7T",avatar:"Avatar_avatar__3oYSD",input__wrapper:"Avatar_input__wrapper__3tgY5",input__file:"Avatar_input__file__2KIs1",input__file_button_text:"Avatar_input__file_button_text__3zKE5",input__file_button:"Avatar_input__file_button__1hAW2"}},300:function(t,e,s){t.exports={content:"MyPosts_content__3Z2Ue",postsBlock:"MyPosts_postsBlock__1E-cR",posts:"MyPosts_posts__1AUiN"}},301:function(t,e,s){t.exports={content:"Post_content__1A0Cd",item:"Post_item__17UWz",avatar:"Post_avatar__15WEr",name:"Post_name__1mAEr",likes:"Post_likes__1s1n8"}},302:function(t,e,s){t.exports={wrapper:"ProfileInfo_wrapper__3w4GF",descriptionBlock:"ProfileInfo_descriptionBlock__2aiE6",avatar:"ProfileInfo_avatar__pQpEA"}},306:function(t,e,s){"use strict";s.r(e);var a=s(5),r=s(49),i=s(50),o=s(53),n=s(52),c=s(1),l=s(0),u=s.n(l),p=s(298),f=s.n(p),j=s(299),_=s.n(j),d=s(294),b=s(14),h=s(54),m=function(t){if(!t.profile)return Object(c.jsx)(h.a,{});return Object(c.jsxs)("div",{className:_.a.avatarBlock,children:[Object(c.jsx)("img",{className:_.a.avatar,src:t.profile.photos.large||d.a,alt:"avatar"}),Object(c.jsxs)("div",{className:_.a.input__wrapper,children:[t.isOwner&&Object(c.jsx)("input",{type:"file",className:_.a.input__file,onChange:function(e){e.target.files.length&&t.savePhoto(e.target.files[0])}}),Object(c.jsx)("label",{for:"input__file",className:_.a.input__file_button,children:Object(c.jsx)("span",{className:_.a.input__file_button_text,children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0444\u043e\u0442\u043e"})})]}),Object(c.jsxs)(b.b,{to:"/dialogs",children:[" ",Object(c.jsx)("button",{children:"\u041d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435"})," "]})]})},O=s(130),v=s(96),x=s(28),P=s(300),g=s.n(P),w=s(128),k=s(129),y=s(301),N=s.n(y),S=function(t){return Object(c.jsxs)("div",{className:N.a.item,children:[Object(c.jsx)("div",{className:N.a.avatar,children:Object(c.jsx)("img",{src:"https://cdn.jpegmini.com/user/images/slider_puffin_before_mobile.jpg",alt:"avatar"})}),Object(c.jsx)("div",{className:N.a.name,children:Object(c.jsx)("strong",{children:t.name})}),Object(c.jsx)("div",{className:N.a.content,children:t.message}),Object(c.jsx)("div",{className:N.a.likes,children:Object(c.jsxs)("span",{children:[Object(c.jsx)("ion-icon",{name:"heart-circle-outline"})," ",t.likes]})})]})},A=s(64),I=s(74),B=Object(A.a)(15),U=Object(k.a)({form:"post"})((function(t){return Object(c.jsx)("form",{onSubmit:t.handleSubmit,children:Object(c.jsxs)("div",{className:g.a.posts,children:[Object(c.jsx)(w.a,{autoFocus:!0,placeholder:"New post...",validate:[A.b,B],name:"newPostText",component:I.a}),Object(c.jsx)("button",{children:"Add post"})]})})})),E=u.a.memo((function(t){var e=Object(x.a)(t.postsData).reverse().map((function(t){return Object(c.jsx)(S,{message:t.post,likes:t.likesCount,name:t.name},t.id)}));return Object(c.jsxs)("div",{className:g.a.postsBlock,children:["New post",Object(c.jsx)(U,{onSubmit:function(e){return t.addPost(e.newPostText)}}),e]})})),T=s(15),D=Object(T.b)((function(t){return{postsData:t.profilePage.postsData,profile:t.profilePage.profile,newPostText:t.profilePage.newPostText}}),(function(t){return{addPost:function(e){return t(Object(v.a)(e))}}}))(E),C=s(302),M=s.n(C),z=s(297),F=function(t){var e=Object(l.useState)(!1),s=Object(z.a)(e,2),a=s[0],r=s[1],i=Object(l.useState)(t.status),o=Object(z.a)(i,2),n=o[0],u=o[1];Object(l.useEffect)((function(){u(t.status)}),[t.status]);return Object(c.jsx)("div",{children:a?Object(c.jsxs)("div",{children:[" ",Object(c.jsx)("input",{onChange:function(t){u(t.currentTarget.value)},autoFocus:!0,onBlur:function(){r(!1),t.updateStatusProfile(n)},value:n})," "]}):Object(c.jsx)("div",{children:Object(c.jsx)("span",{onDoubleClick:function(){r(!0)},children:t.status})})})},J=function(t){return t.profile?Object(c.jsx)("div",{className:M.a.wrapper,children:Object(c.jsx)("div",{className:M.a.descriptionBlock,children:Object(c.jsxs)("div",{children:[Object(c.jsx)("h1",{children:t.profile.fullName}),Object(c.jsx)(F,{updateStatusProfile:t.updateStatusProfile,status:t.status}),Object(c.jsx)("p",{children:t.profile.aboutMe})]})})}):Object(c.jsx)(h.a,{})},W=function(t){return Object(c.jsxs)("div",{className:f.a.profile_wrapper,children:[Object(c.jsxs)("div",{className:f.a.top,children:[Object(c.jsx)(m,{profile:t.profile,savePhoto:t.savePhoto,isOwner:t.isOwner}),Object(c.jsx)(J,{profile:t.profile,status:t.status,updateStatusProfile:t.updateStatusProfile})]}),Object(c.jsxs)("div",{className:f.a.bottom,children:[Object(c.jsx)(O.a,{}),Object(c.jsx)(D,{profile:t.profile})]})]})},K=s(11),Y=s(10),q=function(t){Object(o.a)(s,t);var e=Object(n.a)(s);function s(){return Object(r.a)(this,s),e.apply(this,arguments)}return Object(i.a)(s,[{key:"refreshProfile",value:function(){var t=this.props.match.params.userId||this.props.authorizedUserId;this.props.getUserProfile(t),this.props.getStatusProfile(t)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(t,e,s){this.props.match.params.userId!==t.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return Object(c.jsx)(W,Object(a.a)(Object(a.a)({},this.props),{},{isOwner:!this.props.match.params.userId,profile:this.props.profile,status:this.props.status,updateStatusProfile:this.props.updateStatusProfile,savePhoto:this.props.savePhoto}))}}]),s}(l.PureComponent);e.default=Object(Y.d)(Object(T.b)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,authorizedUserId:t.auth.id,isAuth:t.auth.isAuth}}),{getUserProfile:v.d,getStatusProfile:v.c,updateStatusProfile:v.f,savePhoto:v.e}),K.f)(q)}}]);
//# sourceMappingURL=3.a022b9ca.chunk.js.map