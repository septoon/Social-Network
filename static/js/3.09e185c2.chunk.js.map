{"version":3,"sources":["assets/images/user.jpg","hoc/withAuthRedirect.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","components/Profile/Profile.module.css","components/Profile/Avatar/Avatar.module.css","components/Profile/MyPosts/MyPosts.module.css","components/Profile/MyPosts/Post/Post.module.css","components/Profile/ProfileInfo/ProfileInfo.module.css","components/Profile/Avatar/Avatar.jsx","components/Profile/MyPosts/Post/Post.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/MyPostsСontainer.jsx","components/Profile/ProfileInfo/ProfileStatusWH.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx"],"names":["mapStateToPropsForRedirect","state","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","props","to","React","connect","_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","length","err","unsupportedIterableToArray","TypeError","module","exports","Avatar","className","classes","avatarBlock","avatar","src","user","alt","Post","item","name","content","message","likes","maxLength15","maxLengthCreator","PostReduxForm","reduxForm","form","onSubmit","handleSubmit","posts","Field","autoFocus","placeholder","validate","required","component","Input","MyPosts","memo","postsElements","postsData","reverse","map","arg","post","likesCount","id","postsBlock","addPost","newPostText","MyPostsContainer","profilePage","profile","dispatch","addPostActionCreator","ProfileStatusWH","useState","editMode","setEditMode","status","setStatus","useEffect","onChange","event","currentTarget","onBlur","updateStatusProfile","onDoubleClick","ProfileInfo","wrapper","descriptionBlock","fullName","aboutMe","Preloader","Profile","profile_wrapper","top","bottom","Friends","ProfileContainer","userId","match","params","authorizedUserId","getUserProfile","getStatusProfile","PureComponent","compose","withRouter"],"mappings":"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","file":"static/js/3.09e185c2.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/user.d59f6bd9.jpg\";","import React from 'react'\r\nimport { Redirect } from 'react-router-dom';\r\nimport {connect} from 'react-redux'\r\n\r\nlet mapStateToPropsForRedirect = state =>  ({ isAuth: state.auth.isAuth })\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (!this.props.isAuth) return <Redirect to={'/login'} />\r\n            return <Component{...this.props} />\r\n        }\r\n    }\r\n    \r\n    let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect) (RedirectComponent)\r\n\r\n    return ConnectedAuthRedirectComponent\r\n}\r\n","import arrayWithHoles from \"@babel/runtime/helpers/esm/arrayWithHoles\";\nimport iterableToArrayLimit from \"@babel/runtime/helpers/esm/iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableRest from \"@babel/runtime/helpers/esm/nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile_wrapper\":\"Profile_profile_wrapper__22JUB\",\"top\":\"Profile_top__2Lqfm\",\"bottom\":\"Profile_bottom__UTUre\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"avatarBlock\":\"Avatar_avatarBlock__2xv7T\",\"avatar\":\"Avatar_avatar__3oYSD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"MyPosts_content__3Z2Ue\",\"postsBlock\":\"MyPosts_postsBlock__1E-cR\",\"posts\":\"MyPosts_posts__1AUiN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"Post_content__1A0Cd\",\"item\":\"Post_item__17UWz\",\"avatar\":\"Post_avatar__15WEr\",\"name\":\"Post_name__1mAEr\",\"likes\":\"Post_likes__1s1n8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"ProfileInfo_wrapper__3w4GF\",\"descriptionBlock\":\"ProfileInfo_descriptionBlock__2aiE6\"};","import React from 'react'\r\nimport classes from './Avatar.module.css'\r\nimport user from '../../../assets/images/user.jpg'\r\nimport { NavLink } from 'react-router-dom'\r\n\r\nconst Avatar = (props) => {\r\n    return(\r\n        <div className={classes.avatarBlock}>\r\n            <img className={classes.avatar} src={user} alt='avatar' />\r\n            <NavLink to='/dialogs' > <button>Написать сообщение</button> </NavLink>            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Avatar","import React from 'react'\r\nimport classes from './Post.module.css'\r\n\r\nconst Post = (props) => {\r\n    return (\r\n        <div className={classes.item}>\r\n            <div className={classes.avatar}>\r\n            <img src='https://cdn.jpegmini.com/user/images/slider_puffin_before_mobile.jpg' alt='avatar' />\r\n            </div>\r\n            <div className={classes.name}>\r\n                <strong>{props.name}</strong>\r\n            </div>\r\n            <div className={classes.content}>\r\n                {props.message}\r\n            </div>\r\n            <div className={classes.likes}>\r\n                <span><ion-icon name=\"heart-circle-outline\"></ion-icon> {props.likes}</span>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Post","import React from 'react';\r\nimport classes from './MyPosts.module.css'\r\nimport { Field, reduxForm } from 'redux-form'\r\nimport Post from './Post/Post';\r\nimport { maxLengthCreator, required } from '../../common/Validator/Validator';\r\nimport Input from '../../common/FormsControls/FormControls';\r\n\r\nconst maxLength15 = maxLengthCreator(15)\r\n\r\nconst PostForm = props => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit} > \r\n            <div className={classes.posts}>\r\n                <Field autoFocus placeholder={'New post...'}\r\n                        validate={[required, maxLength15]}\r\n                        name={'newPostText'}\r\n                        component={Input} />\r\n                <button>Add post</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst PostReduxForm = reduxForm({ form: 'post' }) (PostForm)\r\n\r\nconst MyPosts = React.memo(props => {\r\n    let postsElements = \r\n    [...props.postsData] // делаем копию массива постов, чтобы перевернуть\r\n    .reverse()\r\n    .map(arg => <Post key={arg.id} message={arg.post} likes={arg.likesCount} name={arg.name} />)\r\n\r\n    const onAddPost = value => props.addPost(value.newPostText)\r\n\r\n    return (\r\n        <div className={classes.postsBlock}>\r\n            New post\r\n            <PostReduxForm onSubmit={onAddPost} />\r\n            {postsElements}\r\n        </div>\r\n    )\r\n})\r\n\r\nexport default MyPosts\r\n","import React from 'react';\r\nimport { addPostActionCreator } from '../../../redux/profile-reducer'\r\nimport MyPosts from './MyPosts';\r\nimport { connect } from 'react-redux'\r\n\r\nlet mapStateToProps = state => {\r\n    return {\r\n        postsData: state.profilePage.postsData,\r\n        profile: state.profilePage.profile,\r\n        newPostText: state.profilePage.newPostText\r\n    }\r\n}\r\n\r\nlet mapDispatchToProps = dispatch => {\r\n    return {\r\n        addPost: (newPostText) => dispatch(addPostActionCreator(newPostText))\r\n    }\r\n}\r\n\r\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps) (MyPosts)\r\n\r\nexport default MyPostsContainer\r\n","import React, { useState, useEffect } from 'react';\r\n\r\nconst ProfileStatusWH = (props) => {\r\n    let [editMode,setEditMode] = useState(false)\r\n    let [status,setStatus] = useState(props.status)\r\n\r\n    useEffect( () => {\r\n        setStatus(props.status)\r\n    }, [props.status])\r\n\r\n    const activateEditMode = () => {\r\n        setEditMode(true)\r\n    }\r\n\r\n    const deactivateEditMode = () => {\r\n        setEditMode(false)\r\n        props.updateStatusProfile(status)\r\n    }\r\n\r\n    const onStatusChange = (event) => {\r\n        setStatus(event.currentTarget.value)\r\n    }\r\n\r\n    return(\r\n        <div>\r\n            {\r\n                !editMode ? <div><span onDoubleClick={ activateEditMode } >{props.status}</span></div>\r\n                : <div> <input onChange={ onStatusChange } autoFocus={true} onBlur={ deactivateEditMode } value={status} /> </div>\r\n            }\r\n            {/* {\r\n            !editMode && <div><span onDoubleClick={ activateEditMode } >{props.status}</span></div>\r\n\r\n            }                \r\n            {\r\n            editMode && <div> <input autoFocus={true} inBlur={ deactivateEditMode } /> </div>\r\n            } */}\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProfileStatusWH\r\n","import React from 'react';\r\nimport Preloader from '../../common/Preloader/Preloader';\r\nimport classes from './ProfileInfo.module.css'\r\nimport ProfileStatusWH from './ProfileStatusWH'\r\n\r\nconst ProfileInfo = props => {\r\n    if(!props.profile) {\r\n        return (\r\n            <Preloader />\r\n        )\r\n    }\r\n    return(\r\n        <div className={classes.wrapper} >\r\n            <div className={classes.descriptionBlock}>\r\n            {/* <div className={classes.avatarBlock}>\r\n                <img className={classes.avatar} src={props.profile.photos.small} alt='avatar' />\r\n                <button>Написать сообщение</button>\r\n            </div> */}\r\n                <div>\r\n                    <h1>{props.profile.fullName}</h1>\r\n                    <ProfileStatusWH updateStatusProfile={props.updateStatusProfile} status={props.status}/>\r\n                    <p>{props.profile.aboutMe}</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProfileInfo\r\n","import classes from './Profile.module.css';\r\nimport React from 'react';\r\nimport Avatar from './Avatar/Avatar';\r\nimport Friends from '../Friends/Friends';\r\nimport MyPostsContainer from './MyPosts/MyPostsСontainer'\r\nimport ProfileInfo from './ProfileInfo/ProfileInfo';\r\n\r\nconst Profile = props => {\r\n    return (\r\n        <div className={classes.profile_wrapper}>\r\n            <div className={classes.top} >\r\n                <Avatar profile={props.profile} />\r\n                <ProfileInfo profile={props.profile} status={props.status} updateStatusProfile={props.updateStatusProfile} />\r\n            </div>\r\n            <div className={classes.bottom} >\r\n                <Friends />\r\n                <MyPostsContainer profile={props.profile} />            \r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Profile\r\n","import React, { PureComponent } from 'react';\r\nimport Profile from './Profile';\r\nimport {getUserProfile, getStatusProfile, updateStatusProfile} from '../../redux/profile-reducer'\r\nimport {connect} from 'react-redux'\r\nimport { withRouter } from 'react-router-dom';\r\nimport { withAuthRedirect } from '../../hoc/withAuthRedirect';\r\nimport { compose } from 'redux';\r\n\r\nclass ProfileContainer extends PureComponent {\r\n    componentDidMount() {\r\n        let userId = this.props.match.params.userId || this.props.authorizedUserId\r\n        // if (!userId) this.props.history.push('/login')\r\n        this.props.getUserProfile(userId)\r\n        this.props.getStatusProfile(userId)\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Profile {...this.props} profile={this.props.profile} status={this.props.status} updateStatusProfile={this.props.updateStatusProfile} />\r\n        )\r\n    }\r\n}\r\nlet mapStateToProps = state =>  ({\r\n    profile: state.profilePage.profile,\r\n    status: state.profilePage.status,\r\n    authorizedUserId: state.auth.id,\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\nexport default compose(\r\n    connect (mapStateToProps, {getUserProfile, getStatusProfile, updateStatusProfile }),\r\n    withRouter,\r\n    withAuthRedirect\r\n) (ProfileContainer)\r\n"],"sourceRoot":""}