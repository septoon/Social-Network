(this["webpackJsonpsocial-network"]=this["webpackJsonpsocial-network"]||[]).push([[3],{294:function(t,e,s){"use strict";s.d(e,"a",(function(){return n}));var r=s(96);function n(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var s=[],r=!0,n=!1,a=void 0;try{for(var i,o=t[Symbol.iterator]();!(r=(i=o.next()).done)&&(s.push(i.value),!e||s.length!==e);r=!0);}catch(c){n=!0,a=c}finally{try{r||null==o.return||o.return()}finally{if(n)throw a}}return s}}(t,e)||Object(r.a)(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},295:function(t,e,s){"use strict";e.a=s.p+"static/media/user.d59f6bd9.jpg"},296:function(t,e,s){"use strict";s.d(e,"a",(function(){return b}));var r=s(3),n=s(35),a=s(36),i=s(38),o=s(37),c=s(1),l=s(0),u=s.n(l),p=s(11),j=s(13),f=function(t){return{isAuth:t.auth.isAuth}},b=function(t){var e=function(e){Object(i.a)(l,e);var s=Object(o.a)(l);function l(){return Object(n.a)(this,l),s.apply(this,arguments)}return Object(a.a)(l,[{key:"render",value:function(){return this.props.isAuth?Object(c.jsx)(t,Object(r.a)({},this.props)):Object(c.jsx)(p.a,{to:"/login"})}}]),l}(u.a.Component);return Object(j.b)(f)(e)}},299:function(t,e,s){t.exports={profile_wrapper:"Profile_profile_wrapper__22JUB",top:"Profile_top__2Lqfm",bottom:"Profile_bottom__UTUre",friends_wrapper:"Profile_friends_wrapper__xT19W"}},300:function(t,e,s){t.exports={avatarBlock:"Avatar_avatarBlock__2xv7T",avatar:"Avatar_avatar__3oYSD",input__wrapper:"Avatar_input__wrapper__3tgY5",input__file:"Avatar_input__file__2KIs1",input__file_button_text:"Avatar_input__file_button_text__3zKE5",input__file_button:"Avatar_input__file_button__1hAW2"}},301:function(t,e,s){t.exports={content:"MyPosts_content__3Z2Ue",postsBlock:"MyPosts_postsBlock__1E-cR",posts:"MyPosts_posts__1AUiN"}},302:function(t,e,s){t.exports={content:"Post_content__1A0Cd",item:"Post_item__17UWz",avatar:"Post_avatar__15WEr",name:"Post_name__1mAEr",likes:"Post_likes__1s1n8"}},303:function(t,e,s){t.exports={wrapper:"ProfileInfo_wrapper__3w4GF",descriptionBlock:"ProfileInfo_descriptionBlock__2aiE6",avatar:"ProfileInfo_avatar__pQpEA",status:"ProfileInfo_status__1F6k-",contacts:"ProfileInfo_contacts__2wPL1"}},307:function(t,e,s){"use strict";s.r(e);var r=s(3),n=s(35),a=s(36),i=s(38),o=s(37),c=s(1),l=s(0),u=s.n(l),p=s(299),j=s.n(p),f=s(300),b=s.n(f),d=s(295),_=s(15),O=s(55),h=function(t){return Object(c.jsxs)("div",{children:[Object(c.jsx)("input",{type:"file",className:b.a.input__file,onChange:function(e){e.target.files.length&&t.savePhoto(e.target.files[0])}}),Object(c.jsx)("label",{for:"input__file",className:b.a.input__file_button,children:Object(c.jsx)("span",{className:b.a.input__file_button_text,children:"\u0421\u043c\u0435\u043d\u0438\u0442\u044c \u0444\u043e\u0442\u043e"})})]})},x=function(t){return t.profile?Object(c.jsxs)("div",{className:b.a.avatarBlock,children:[Object(c.jsx)("img",{className:b.a.avatar,src:t.profile.photos.large||d.a,alt:"avatar"}),Object(c.jsx)("div",{className:b.a.input__wrapper,children:t.isOwner&&Object(c.jsx)(h,{})}),Object(c.jsxs)(_.b,{to:"/dialogs",children:[" ",Object(c.jsx)("button",{className:b.a.input__file_button,children:"\u041d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435"})," "]})]}):Object(c.jsx)(O.a,{})},v=s(131),m=s(97),P=s(29),w=s(301),g=s.n(w),k=s(129),N=s(130),y=s(302),A=s.n(y),S=function(t){return t.profile?Object(c.jsxs)("div",{className:A.a.item,children:[Object(c.jsx)("div",{className:A.a.avatar,children:Object(c.jsx)("img",{src:"https://cdn.jpegmini.com/user/images/slider_puffin_before_mobile.jpg",alt:"avatar"})}),Object(c.jsx)("div",{className:A.a.name,children:Object(c.jsx)("strong",{children:t.profile.fullName})}),Object(c.jsx)("div",{className:A.a.content,children:t.message}),Object(c.jsx)("div",{className:A.a.likes,children:Object(c.jsxs)("span",{children:["Likes: ",t.likes]})})]}):Object(c.jsx)(O.a,{})},I=s(66),T=s(75),E=Object(I.a)(300),B=Object(N.a)({form:"post"})((function(t){return Object(c.jsx)("form",{onSubmit:t.handleSubmit,children:Object(c.jsxs)("div",{className:g.a.posts,children:[Object(c.jsx)(k.a,{autoFocus:!0,placeholder:"New post...",validate:[I.b,E],name:"newPostText",component:T.a}),Object(c.jsx)("button",{children:"Add post"})]})})})),U=u.a.memo((function(t){var e=Object(P.a)(t.postsData).reverse().map((function(e){return Object(c.jsx)(S,{profile:t.profile,message:e.post,likes:e.likesCount,name:e.name},e.id)}));return Object(c.jsxs)("div",{className:g.a.postsBlock,children:["Posts",t.isOwner&&Object(c.jsx)(B,{onSubmit:function(e){return t.addPost(e.newPostText)}}),e]})})),C=s(13),M=Object(C.b)((function(t){return{postsData:t.profilePage.postsData,profile:t.profilePage.profile,newPostText:t.profilePage.newPostText}}),(function(t){return{addPost:function(e){return t(Object(m.a)(e))}}}))(U),D=s(294),F=s(303),J=s.n(F),z=function(t){var e=Object(l.useState)(!1),s=Object(D.a)(e,2),r=s[0],n=s[1],a=Object(l.useState)(t.status),i=Object(D.a)(a,2),o=i[0],u=i[1];Object(l.useEffect)((function(){u(t.status)}),[t.status]);return Object(c.jsx)("div",{children:r?Object(c.jsxs)("div",{children:[" ",Object(c.jsx)("input",{onChange:function(t){u(t.currentTarget.value)},autoFocus:!0,onBlur:function(){n(!1),t.updateStatusProfile(o)},value:o})," "]}):Object(c.jsx)("div",{children:Object(c.jsx)("span",{onDoubleClick:function(){n(!0)},children:t.status})})})},W=function(t){var e=t.profile,s=t.isOwner,r=t.goToEditMode,n=Object.keys(e.contacts);return Object(c.jsxs)("div",{className:J.a.contacts,children:[s&&Object(c.jsx)("button",{onClick:r,children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"}),n.map((function(t){return Object(c.jsxs)("div",{children:[" ",Object(c.jsxs)("span",{children:[t,":"]})," ",e.contacts[t]," "]})}))]})},L=function(t){t.profile;var e=t.isOwner,s=t.goToEditMode;return Object(c.jsxs)("div",{children:[e&&Object(c.jsx)("button",{onClick:s,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),"form"]})},K=function(t){var e=t.profile,s=t.isOwner,r=t.updateStatusProfile,n=t.status,a=Object(l.useState)(!1),i=Object(D.a)(a,2),o=i[0],u=i[1];return e?Object(c.jsx)("div",{className:J.a.wrapper,children:Object(c.jsx)("div",{className:J.a.descriptionBlock,children:Object(c.jsxs)("div",{children:[Object(c.jsx)("h1",{children:e.fullName}),Object(c.jsxs)("div",{className:J.a.status,children:[Object(c.jsx)("b",{children:"\u0421\u0442\u0430\u0443\u0441: "})," ",Object(c.jsx)(z,{updateStatusProfile:r,status:n})]}),Object(c.jsxs)("div",{children:[Object(c.jsxs)("p",{children:["\u0418\u0449\u0443 \u0440\u0430\u0431\u043e\u0442\u0443: ",e.lookingForAJob?"\u0414\u0430":"\u041d\u0435\u0442"]}),Object(c.jsxs)("p",{children:["\u041e\u0431\u043e \u043c\u043d\u0435: ",e.aboutMe]}),e.lookingForAJob&&Object(c.jsxs)("p",{children:["\u041c\u043e\u0438 \u043d\u0430\u0432\u044b\u043a\u0438: ",e.lookingForAJobDescription]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("b",{children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b: "}),o?Object(c.jsx)(L,{profile:e,isOwner:s,goToEditMode:function(){u(!1)}}):Object(c.jsx)(W,{profile:e,isOwner:s,goToEditMode:function(){u(!0)}})]})]})]})})}):Object(c.jsx)(O.a,{})},Y=function(t){return Object(c.jsxs)("div",{className:j.a.profile_wrapper,children:[Object(c.jsxs)("div",{className:j.a.top,children:[Object(c.jsx)(x,{profile:t.profile,savePhoto:t.savePhoto,isOwner:t.isOwner}),Object(c.jsx)(K,{profile:t.profile,status:t.status,updateStatusProfile:t.updateStatusProfile,isOwner:t.isOwner})]}),Object(c.jsxs)("div",{className:j.a.bottom,children:[Object(c.jsx)("div",{className:j.a.friends_wrapper,children:Object(c.jsx)(v.a,{})}),Object(c.jsx)(M,{profile:t.profile,isOwner:t.isOwner})]})]})},q=s(11),G=s(296),Q=s(10),R=function(t){Object(i.a)(s,t);var e=Object(o.a)(s);function s(){return Object(n.a)(this,s),e.apply(this,arguments)}return Object(a.a)(s,[{key:"refreshProfile",value:function(){var t=this.props.match.params.userId||this.props.authorizedUserId;this.props.getUserProfile(t),this.props.getStatusProfile(t)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(t,e,s){this.props.match.params.userId!==t.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return Object(c.jsx)(Y,Object(r.a)(Object(r.a)({},this.props),{},{isOwner:!this.props.match.params.userId,profile:this.props.profile,status:this.props.status,updateStatusProfile:this.props.updateStatusProfile,savePhoto:this.props.savePhoto}))}}]),s}(l.PureComponent);e.default=Object(Q.d)(Object(C.b)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,authorizedUserId:t.auth.id,isAuth:t.auth.isAuth}}),{getUserProfile:m.d,getStatusProfile:m.c,updateStatusProfile:m.f,savePhoto:m.e}),q.f,G.a)(R)}}]);
//# sourceMappingURL=3.17079df6.chunk.js.map