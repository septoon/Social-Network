{"version":3,"sources":["assets/images/user.jpg","hoc/withAuthRedirect.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","components/Profile/Profile.module.css","components/Profile/Avatar/Avatar.module.css","components/Profile/MyPosts/MyPosts.module.css","components/Profile/MyPosts/Post/Post.module.css","components/Profile/ProfileInfo/ProfileInfo.module.css","components/Profile/Avatar/Avatar.jsx","components/Profile/MyPosts/Post/Post.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/MyPostsÐ¡ontainer.jsx","components/Profile/ProfileInfo/ProfileStatusWH.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx"],"names":["mapStateToPropsForRedirect","state","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","props","to","React","connect","_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","length","err","unsupportedIterableToArray","TypeError","module","exports","Avatar","profile","Preloader","className","classes","avatarBlock","avatar","src","photos","large","user","alt","input__wrapper","isOwner","type","input__file","onChange","e","target","files","savePhoto","for","input__file_button","input__file_button_text","Post","item","name","content","message","likes","maxLength300","maxLengthCreator","PostReduxForm","reduxForm","form","onSubmit","handleSubmit","posts","Field","autoFocus","placeholder","validate","required","component","Input","MyPosts","memo","postsElements","postsData","reverse","map","arg","post","likesCount","id","postsBlock","addPost","newPostText","MyPostsContainer","profilePage","dispatch","addPostActionCreator","ProfileStatusWH","useState","editMode","setEditMode","status","setStatus","useEffect","event","currentTarget","onBlur","updateStatusProfile","onDoubleClick","ProfileInfo","wrapper","descriptionBlock","fullName","aboutMe","Profile","profile_wrapper","top","bottom","friends_wrapper","Friends","ProfileContainer","userId","match","params","authorizedUserId","getUserProfile","getStatusProfile","refreshProfile","prevProps","prevState","snapshot","PureComponent","compose","withRouter"],"mappings":"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","file":"static/js/3.438eccd8.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/user.d59f6bd9.jpg\";","import React from 'react'\r\nimport { Redirect } from 'react-router-dom';\r\nimport {connect} from 'react-redux'\r\n\r\nlet mapStateToPropsForRedirect = state =>  ({ isAuth: state.auth.isAuth })\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (!this.props.isAuth) return <Redirect to={'/login'} />\r\n            return <Component{...this.props} />\r\n        }\r\n    }\r\n    \r\n    let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect) (RedirectComponent)\r\n\r\n    return ConnectedAuthRedirectComponent\r\n}\r\n","import arrayWithHoles from \"@babel/runtime/helpers/esm/arrayWithHoles\";\nimport iterableToArrayLimit from \"@babel/runtime/helpers/esm/iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableRest from \"@babel/runtime/helpers/esm/nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile_wrapper\":\"Profile_profile_wrapper__22JUB\",\"top\":\"Profile_top__2Lqfm\",\"bottom\":\"Profile_bottom__UTUre\",\"friends_wrapper\":\"Profile_friends_wrapper__xT19W\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"avatarBlock\":\"Avatar_avatarBlock__2xv7T\",\"avatar\":\"Avatar_avatar__3oYSD\",\"input__wrapper\":\"Avatar_input__wrapper__3tgY5\",\"input__file\":\"Avatar_input__file__2KIs1\",\"input__file_button_text\":\"Avatar_input__file_button_text__3zKE5\",\"input__file_button\":\"Avatar_input__file_button__1hAW2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"MyPosts_content__3Z2Ue\",\"postsBlock\":\"MyPosts_postsBlock__1E-cR\",\"posts\":\"MyPosts_posts__1AUiN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"Post_content__1A0Cd\",\"item\":\"Post_item__17UWz\",\"avatar\":\"Post_avatar__15WEr\",\"name\":\"Post_name__1mAEr\",\"likes\":\"Post_likes__1s1n8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"ProfileInfo_wrapper__3w4GF\",\"descriptionBlock\":\"ProfileInfo_descriptionBlock__2aiE6\",\"avatar\":\"ProfileInfo_avatar__pQpEA\"};","import React from 'react'\r\nimport classes from './Avatar.module.css'\r\nimport user from '../../../assets/images/user.jpg'\r\nimport { NavLink } from 'react-router-dom'\r\nimport Preloader from '../../common/Preloader/Preloader'\r\n\r\nconst Avatar = (props) => {\r\n    if(!props.profile) {\r\n        return (\r\n            <Preloader />\r\n        )\r\n    }\r\n    const onAvatarSelected = (e) => {\r\n        if(e.target.files.length) props.savePhoto(e.target.files[0])\r\n    }\r\n    return(\r\n        <div className={classes.avatarBlock}>\r\n            <img className={classes.avatar} src={props.profile.photos.large || user} alt='avatar' />\r\n            <div className={classes.input__wrapper}>\r\n                {props.isOwner && <input type='file' className={classes.input__file} onChange={ onAvatarSelected } /> }\r\n                <label for=\"input__file\" className={classes.input__file_button}>\r\n                    <span className={classes.input__file_button_text}>Ð¡Ð¼ÐµÐ½Ð¸ÑÑ ÑÐ¾ÑÐ¾</span>\r\n                </label>\r\n            </div>\r\n            <NavLink to='/dialogs' > <button className={classes.input__file_button} >ÐÐ°Ð¿Ð¸ÑÐ°ÑÑ ÑÐ¾Ð¾Ð±ÑÐµÐ½Ð¸Ðµ</button> </NavLink>            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Avatar","import React from 'react'\r\nimport classes from './Post.module.css'\r\n\r\nconst Post = (props) => {\r\n    return (\r\n        <div className={classes.item}>\r\n            <div className={classes.avatar}>\r\n            <img src='https://cdn.jpegmini.com/user/images/slider_puffin_before_mobile.jpg' alt='avatar' />\r\n            </div>\r\n            <div className={classes.name}>\r\n                <strong>{props.name}</strong>\r\n            </div>\r\n            <div className={classes.content}>\r\n                {props.message}\r\n            </div>\r\n            <div className={classes.likes}>\r\n                <span><ion-icon name=\"heart-circle-outline\"></ion-icon> {props.likes}</span>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Post","import React from 'react';\r\nimport classes from './MyPosts.module.css'\r\nimport { Field, reduxForm } from 'redux-form'\r\nimport Post from './Post/Post';\r\nimport { maxLengthCreator, required } from '../../common/Validator/Validator';\r\nimport Input from '../../common/FormsControls/FormControls';\r\n\r\nconst maxLength300 = maxLengthCreator(300)\r\n\r\nconst PostForm = props => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit} > \r\n            <div className={classes.posts}>\r\n                <Field autoFocus placeholder={'New post...'}\r\n                        validate={[required, maxLength300]}\r\n                        name={'newPostText'}\r\n                        component={Input} />\r\n                <button>Add post</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst PostReduxForm = reduxForm({ form: 'post' }) (PostForm)\r\n\r\nconst MyPosts = React.memo(props => {\r\n    let postsElements = \r\n    [...props.postsData] // Ð´ÐµÐ»Ð°ÐµÐ¼ ÐºÐ¾Ð¿Ð¸Ñ Ð¼Ð°ÑÑÐ¸Ð²Ð° Ð¿Ð¾ÑÑÐ¾Ð², ÑÑÐ¾Ð±Ñ Ð¿ÐµÑÐµÐ²ÐµÑÐ½ÑÑÑ\r\n    .reverse()\r\n    .map(arg => <Post key={arg.id} message={arg.post} likes={arg.likesCount} name={arg.name} />)\r\n\r\n    const onAddPost = value => props.addPost(value.newPostText)\r\n\r\n    return (\r\n        <div className={classes.postsBlock}>\r\n            New post\r\n            <PostReduxForm onSubmit={onAddPost} />\r\n            {postsElements}\r\n        </div>\r\n    )\r\n})\r\n\r\nexport default MyPosts\r\n","import React from 'react';\r\nimport { addPostActionCreator } from '../../../redux/profile-reducer'\r\nimport MyPosts from './MyPosts';\r\nimport { connect } from 'react-redux'\r\n\r\nlet mapStateToProps = state => {\r\n    return {\r\n        postsData: state.profilePage.postsData,\r\n        profile: state.profilePage.profile,\r\n        newPostText: state.profilePage.newPostText\r\n    }\r\n}\r\n\r\nlet mapDispatchToProps = dispatch => {\r\n    return {\r\n        addPost: (newPostText) => dispatch(addPostActionCreator(newPostText))\r\n    }\r\n}\r\n\r\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps) (MyPosts)\r\n\r\nexport default MyPostsContainer\r\n","import React, { useState, useEffect } from 'react';\r\n\r\nconst ProfileStatusWH = (props) => {\r\n    let [editMode,setEditMode] = useState(false)\r\n    let [status,setStatus] = useState(props.status)\r\n\r\n    useEffect( () => {\r\n        setStatus(props.status)\r\n    }, [props.status])\r\n\r\n    const activateEditMode = () => {\r\n        setEditMode(true)\r\n    }\r\n\r\n    const deactivateEditMode = () => {\r\n        setEditMode(false)\r\n        props.updateStatusProfile(status)\r\n    }\r\n\r\n    const onStatusChange = (event) => {\r\n        setStatus(event.currentTarget.value)\r\n    }\r\n\r\n    return(\r\n        <div>\r\n            {\r\n                !editMode ? <div><span onDoubleClick={ activateEditMode } >{props.status}</span></div>\r\n                : <div> <input onChange={ onStatusChange } autoFocus={true} onBlur={ deactivateEditMode } value={status} /> </div>\r\n            }\r\n            {/* {\r\n            !editMode && <div><span onDoubleClick={ activateEditMode } >{props.status}</span></div>\r\n\r\n            }                \r\n            {\r\n            editMode && <div> <input autoFocus={true} inBlur={ deactivateEditMode } /> </div>\r\n            } */}\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProfileStatusWH\r\n","import React from 'react';\r\nimport Preloader from '../../common/Preloader/Preloader';\r\nimport classes from './ProfileInfo.module.css'\r\nimport ProfileStatusWH from './ProfileStatusWH'\r\n\r\nconst ProfileInfo = props => {\r\n    if(!props.profile) {\r\n        return (\r\n            <Preloader />\r\n        )\r\n    }\r\n\r\n    return(\r\n        <div className={classes.wrapper} >\r\n            <div className={classes.descriptionBlock}>\r\n                <div>\r\n                    <h1>{props.profile.fullName}</h1>\r\n                    <ProfileStatusWH updateStatusProfile={props.updateStatusProfile} status={props.status}/>\r\n                    <p>{props.profile.aboutMe}</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProfileInfo\r\n","import classes from './Profile.module.css';\r\nimport React from 'react';\r\nimport Avatar from './Avatar/Avatar';\r\nimport Friends from '../Friends/Friends';\r\nimport MyPostsContainer from './MyPosts/MyPostsÐ¡ontainer'\r\nimport ProfileInfo from './ProfileInfo/ProfileInfo';\r\n\r\nconst Profile = props => {\r\n    return (\r\n        <div className={classes.profile_wrapper}>\r\n            <div className={classes.top} >\r\n                <Avatar profile={props.profile} savePhoto={props.savePhoto} isOwner={props.isOwner} />\r\n                <ProfileInfo profile={props.profile}\r\n                status={props.status} updateStatusProfile={props.updateStatusProfile} />\r\n            </div>\r\n            <div className={classes.bottom} >\r\n                <div className={classes.friends_wrapper} >\r\n                    <Friends />\r\n                </div>\r\n                <MyPostsContainer profile={props.profile} />            \r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Profile\r\n","import React, { PureComponent } from 'react';\r\nimport Profile from './Profile';\r\nimport {getUserProfile, getStatusProfile, updateStatusProfile, savePhoto} from '../../redux/profile-reducer'\r\nimport {connect} from 'react-redux'\r\nimport { withRouter } from 'react-router-dom';\r\nimport { withAuthRedirect } from '../../hoc/withAuthRedirect';\r\nimport { compose } from 'redux';\r\n\r\nclass ProfileContainer extends PureComponent {\r\n    refreshProfile() {\r\n        let userId = this.props.match.params.userId || this.props.authorizedUserId\r\n        // if (!userId) this.props.history.push('/login')\r\n        this.props.getUserProfile(userId)\r\n        this.props.getStatusProfile(userId)\r\n    }\r\n    componentDidMount() {\r\n        this.refreshProfile()\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if(this.props.match.params.userId !== prevProps.match.params.userId) this.refreshProfile()\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Profile {...this.props} isOwner={!this.props.match.params.userId}\r\n            profile={this.props.profile} status={this.props.status}\r\n            updateStatusProfile={this.props.updateStatusProfile}\r\n            savePhoto={this.props.savePhoto} />\r\n        )\r\n    }\r\n}\r\nlet mapStateToProps = state =>  ({\r\n    profile: state.profilePage.profile,\r\n    status: state.profilePage.status,\r\n    authorizedUserId: state.auth.id,\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\nexport default compose(\r\n    connect (mapStateToProps, {getUserProfile, getStatusProfile, updateStatusProfile, savePhoto }),\r\n    withRouter,\r\n    withAuthRedirect\r\n) (ProfileContainer)\r\n"],"sourceRoot":""}